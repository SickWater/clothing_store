<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="../css/admin.css">
</head>

<body>

  <!-- TOP BAR -->
  <div class="topbar">
    <div class="brand">Swish Drip ‚Äî Admin</div>
    <a href="orders.html" class="btn" style="margin-right: 10px;">üì¶ Orders</a>
    <button id="logoutBtn" class="btn secondary">Logout</button>
  </div>

  <main class="container">

    <!-- HEADER -->
    <header class="dashboard-header">
      <h1>Products</h1>
      <div>
        <button id="refreshBtn" class="btn">Refresh</button>
        <button id="openAddBtn" class="btn primary">+ Add Product</button>
      </div>
    </header>
    
    <!-- SKELETON STATS -->
    <div class="stats-grid" id="skeletonStats" style="display: none;">
      <div class="skeleton-stats-card">
        <div class="skeleton skeleton-stats-value"></div>
        <div class="skeleton skeleton-stats-label"></div>
      </div>
      <div class="skeleton-stats-card">
        <div class="skeleton skeleton-stats-value"></div>
        <div class="skeleton skeleton-stats-label"></div>
      </div>
      <div class="skeleton-stats-card">
        <div class="skeleton skeleton-stats-value"></div>
        <div class="skeleton skeleton-stats-label"></div>
      </div>
      <div class="skeleton-stats-card">
        <div class="skeleton skeleton-stats-value"></div>
        <div class="skeleton skeleton-stats-label"></div>
      </div>
      <div class="skeleton-stats-card">
        <div class="skeleton skeleton-stats-value"></div>
        <div class="skeleton skeleton-stats-label"></div>
      </div>
    </div>
    
    <!-- ACTUAL STATS (will be populated by JS) -->
    <div class="stats-grid" id="statsContainer"></div>

    <!-- ADMIN SEARCH AND FILTERS -->
    <div class="admin-controls">
      <!-- Skeleton for search and filters -->
      <div id="skeletonControls" style="display: none;">
        <div class="skeleton skeleton-search"></div>
        <div class="filter-controls">
          <div class="skeleton skeleton-filter"></div>
          <div class="skeleton skeleton-filter"></div>
          <div class="skeleton skeleton-filter"></div>
          <div class="skeleton skeleton-filter" style="width: 100px;"></div>
        </div>
      </div>
      
      <!-- Actual controls -->
      <div id="actualControls">
        <div class="search-box">
          <input type="text" id="productSearch" placeholder="üîç Search products by name..." autocomplete="off">
        </div>
        
        <div class="filter-controls">
          <div class="filter-group">
            <select id="categoryFilter" class="filter-select">
              <option value="">All Categories</option>
              <option value="brand">üè∑Ô∏è Brand</option>
              <option value="thrift">üîÑ Thrift</option>
            </select>
          </div>
          
          <div class="filter-group">
            <select id="saleFilter" class="filter-select">
              <option value="">All Products</option>
              <option value="on_sale">On Sale</option>
              <option value="not_on_sale">Not on Sale</option>
            </select>
          </div>
          
          <div class="filter-group">
            <select id="sortFilter" class="filter-select">
              <option value="newest">Newest First</option>
              <option value="oldest">Oldest First</option>
              <option value="price_high">Price: High to Low</option>
              <option value="price_low">Price: Low to High</option>
              <option value="stock_high">Stock: High to Low</option>
              <option value="stock_low">Stock: Low to High</option>
            </select>
          </div>
          
          <div class="filter-group">
            <button id="clearFilters" class="btn small secondary">Clear All</button>
          </div>
        </div>
      </div>
    </div>

    <!-- TABLE -->
    <section class="table-wrap">
      <!-- Skeleton Table -->
      <div id="skeletonTable" style="display: none;">
        <table class="table">
          <thead>
            <tr>
              <th>Image</th>
              <th>Name</th>
              <th>Category</th>
              <th>Type</th>
              <th>Price</th>
              <th>Sale?</th>
              <th>Sale Price</th>
              <th>Stock by Size</th>
              <th>Created</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- Skeleton Rows -->
            <tr class="table-skeleton-row">
              <td><div class="skeleton skeleton-image"></div></td>
              <td>
                <div class="skeleton skeleton-cell"></div>
                <div class="skeleton skeleton-cell" style="width: 60%;"></div>
              </td>
              <td><div class="skeleton skeleton-badge"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 80px;"></div></td>
              <td><div class="skeleton skeleton-price"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 20px; margin: 0 auto;"></div></td>
              <td><div class="skeleton skeleton-price"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 120px;"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 100px;"></div></td>
              <td>
                <div class="action-buttons">
                  <div class="skeleton skeleton-button"></div>
                  <div class="skeleton skeleton-button"></div>
                </div>
              </td>
            </tr>
            <tr class="table-skeleton-row">
              <td><div class="skeleton skeleton-image"></div></td>
              <td>
                <div class="skeleton skeleton-cell"></div>
                <div class="skeleton skeleton-cell" style="width: 70%;"></div>
              </td>
              <td><div class="skeleton skeleton-badge"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 80px;"></div></td>
              <td><div class="skeleton skeleton-price"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 20px; margin: 0 auto;"></div></td>
              <td><div class="skeleton skeleton-price"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 120px;"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 100px;"></div></td>
              <td>
                <div class="action-buttons">
                  <div class="skeleton skeleton-button"></div>
                  <div class="skeleton skeleton-button"></div>
                </div>
              </td>
            </tr>
            <tr class="table-skeleton-row">
              <td><div class="skeleton skeleton-image"></div></td>
              <td>
                <div class="skeleton skeleton-cell"></div>
                <div class="skeleton skeleton-cell" style="width: 65%;"></div>
              </td>
              <td><div class="skeleton skeleton-badge"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 80px;"></div></td>
              <td><div class="skeleton skeleton-price"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 20px; margin: 0 auto;"></div></td>
              <td><div class="skeleton skeleton-price"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 120px;"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 100px;"></div></td>
              <td>
                <div class="action-buttons">
                  <div class="skeleton skeleton-button"></div>
                  <div class="skeleton skeleton-button"></div>
                </div>
              </td>
            </tr>
            <tr class="table-skeleton-row">
              <td><div class="skeleton skeleton-image"></div></td>
              <td>
                <div class="skeleton skeleton-cell"></div>
                <div class="skeleton skeleton-cell" style="width: 75%;"></div>
              </td>
              <td><div class="skeleton skeleton-badge"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 80px;"></div></td>
              <td><div class="skeleton skeleton-price"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 20px; margin: 0 auto;"></div></td>
              <td><div class="skeleton skeleton-price"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 120px;"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 100px;"></div></td>
              <td>
                <div class="action-buttons">
                  <div class="skeleton skeleton-button"></div>
                  <div class="skeleton skeleton-button"></div>
                </div>
              </td>
            </tr>
            <tr class="table-skeleton-row">
              <td><div class="skeleton skeleton-image"></div></td>
              <td>
                <div class="skeleton skeleton-cell"></div>
                <div class="skeleton skeleton-cell" style="width: 60%;"></div>
              </td>
              <td><div class="skeleton skeleton-badge"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 80px;"></div></td>
              <td><div class="skeleton skeleton-price"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 20px; margin: 0 auto;"></div></td>
              <td><div class="skeleton skeleton-price"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 120px;"></div></td>
              <td><div class="skeleton skeleton-cell" style="width: 100px;"></div></td>
              <td>
                <div class="action-buttons">
                  <div class="skeleton skeleton-button"></div>
                  <div class="skeleton skeleton-button"></div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <!-- Actual Table -->
      <table class="table" id="actualTable" style="display: none;">
        <thead>
          <tr>
            <th>Image</th>
            <th>Name</th>
            <th>Category</th>
            <th>Type</th>
            <th>Price</th>
            <th>Sale?</th>
            <th>Sale Price</th>
            <th>Stock by Size</th>
            <th>Created</th>
            <th>Actions</th>
          </tr>
        </thead>

        <tbody id="productsTbody"></tbody>
      </table>

      <p id="emptyMsg" class="muted" style="display:none;">No products found.</p>
    </section>
  </main>

<!-- PRODUCT MODAL -->
<div id="productModal" class="modal">
  <div class="modal-content large-modal">
    <span class="close-modal" id="productModalClose">&times;</span>
    <h2 id="modalTitle">Add New Product</h2>

    <form id="productForm" enctype="multipart/form-data">
      <input type="hidden" id="productId">
      
      <!-- FORM STEPS (Optional, for better UX) -->
      <div class="form-steps">
        <div class="step active" data-step="1">Basic Info</div>
        <div class="step" data-step="2">Pricing</div>
        <div class="step" data-step="3">Categories</div>
        <div class="step" data-step="4">Images</div>
        <div class="step" data-step="5">Inventory</div>
      </div>

      <!-- STEP 1: BASIC INFORMATION -->
      <div class="form-step active" data-step="1">
        <div class="form-section">
          <h3><span class="step-number">1</span> Basic Information</h3>
          
          <div class="form-group">
            <label for="name" class="required">Product Name</label>
            <input type="text" id="name" name="name" required placeholder="Enter product name">
            <div class="form-hint">Make it descriptive and clear</div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="shortDescription">Short Description</label>
              <textarea id="shortDescription" name="shortDescription" rows="2" maxlength="150" 
                        placeholder="Brief description (max 150 chars)"></textarea>
              <div class="char-count"><span id="shortDescCount">0</span>/150</div>
            </div>
          </div>

          <div class="form-group">
            <label for="description">Full Description</label>
            <textarea id="description" name="description" rows="4" 
                      placeholder="Detailed product description..."></textarea>
          </div>
        </div>

        <div class="form-navigation">
          <button type="button" class="btn next-step" data-next="2">Next: Pricing ‚Üí</button>
        </div>
      </div>

      <!-- STEP 2: PRICING -->
      <div class="form-step" data-step="2">
        <div class="form-section">
          <h3><span class="step-number">2</span> Pricing</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label for="price" class="required">Regular Price (R)</label>
              <input type="number" id="price" name="price" min="0" step="0.01" required 
                     placeholder="0.00">
            </div>
            <div class="form-group">
              <label for="costPrice">Cost Price (R)</label>
              <input type="number" id="costPrice" name="costPrice" min="0" step="0.01" 
                     placeholder="0.00">
              <div class="form-hint">For profit calculation</div>
            </div>
          </div>

          <div class="sale-toggle">
            <label class="checkbox-label">
              <input type="checkbox" id="onSale" name="onSale">
              <span class="checkmark"></span>
              This product is on sale
            </label>
          </div>

          <div class="form-row" id="salePriceSection" style="display: none;">
            <div class="form-group">
              <label for="salePrice">Sale Price (R)</label>
              <input type="number" id="salePrice" name="salePrice" min="0" step="0.01" 
                     placeholder="0.00">
              <div class="form-hint">Special discounted price</div>
            </div>
            <div class="form-group">
              <label for="saleEndDate">Sale Ends (Optional)</label>
              <input type="date" id="saleEndDate" name="saleEndDate">
            </div>
          </div>
        </div>

        <div class="form-navigation">
          <button type="button" class="btn prev-step" data-prev="1">‚Üê Back</button>
          <button type="button" class="btn next-step" data-next="3">Next: Categories ‚Üí</button>
        </div>
      </div>

      <!-- STEP 3: CATEGORIES -->
      <div class="form-step" data-step="3">
        <div class="form-section">
          <h3><span class="step-number">3</span> Categorization</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label for="category" class="required">Category</label>
              <select id="category" name="category" required>
                <option value="">Select category</option>
                <option value="brand">üè∑Ô∏è Brand (New Items)</option>
                <option value="thrift">üîÑ Thrift (Second-hand)</option>
              </select>
            </div>
            <div class="form-group">
              <label for="clothingType" class="required">Clothing Type</label>
              <select id="clothingType" name="clothingType" required>
                <option value="">Select type</option>
                <option value="t-shirt">T-Shirt</option>
                <option value="shirt">Shirt</option>
                <option value="jeans">Jeans</option>
                <option value="pants">Pants</option>
                <option value="shorts">Shorts</option>
                <option value="jacket">Jacket</option>
                <option value="hoodie">Hoodie</option>
                <option value="sweater">Sweater</option>
                <option value="dress">Dress</option>
                <option value="skirt">Skirt</option>
                <option value="shoes">Shoes</option>
                <option value="accessories">Accessories</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="brand">Brand Name</label>
              <input type="text" id="brand" name="brand" placeholder="e.g., Nike, Adidas, Zara">
            </div>
            <div class="form-group">
              <label for="gender">Gender</label>
              <select id="gender" name="gender">
                <option value="unisex">Unisex</option>
                <option value="men">Men</option>
                <option value="women">Women</option>
                <option value="kids">Kids</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="condition">Condition</label>
              <select id="condition" name="condition">
                <option value="new">New</option>
                <option value="like_new">Like New</option>
                <option value="good">Good</option>
                <option value="fair">Fair</option>
              </select>
            </div>
            <div class="form-group">
              <label for="subCategory">Sub-Category</label>
              <input type="text" id="subCategory" name="subCategory" placeholder="e.g., Sneakers, Boots">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="colors">Colors (comma separated)</label>
              <input type="text" id="colors" name="colors" placeholder="red, blue, black">
              <div class="form-hint">Separate with commas</div>
            </div>
            <div class="form-group">
              <label for="tags">Tags (comma separated)</label>
              <input type="text" id="tags" name="tags" placeholder="summer, casual, sport">
              <div class="form-hint">For search and filtering</div>
            </div>
          </div>
        </div>

        <div class="form-navigation">
          <button type="button" class="btn prev-step" data-prev="2">‚Üê Back</button>
          <button type="button" class="btn next-step" data-next="4">Next: Images ‚Üí</button>
        </div>
      </div>

      <!-- STEP 4: IMAGES (Multi-upload with preview) -->
      <div class="form-step" data-step="4">
        <div class="form-section">
          <h3><span class="step-number">4</span> Images</h3>
          
          <div class="upload-area" id="imageUploadArea">
            <div class="upload-icon">üì∑</div>
            <p class="upload-text">Drag & drop product images here</p>
            <p class="upload-subtext">or click to browse</p>
            <input type="file" id="images" name="images" accept="image/*" multiple 
                   style="display: none;">
            <div class="upload-requirements">
              <span>Supports: JPG, PNG, WebP</span>
              <span>Max size: 5MB per image</span>
              <span>Max files: 10</span>
            </div>
          </div>

          <!-- Image Previews -->
          <div class="image-previews" id="imagePreviews">
            <div class="preview-item template" style="display: none;">
              <div class="preview-image">
                <img src="" alt="Preview">
                <div class="preview-overlay">
                  <button type="button" class="btn-icon set-main" title="Set as main">
                    ‚≠ê
                  </button>
                  <button type="button" class="btn-icon remove-image" title="Remove">
                    ‚úï
                  </button>
                </div>
                <div class="main-badge">Main</div>
              </div>
              <div class="preview-info">
                <span class="preview-name">image.jpg</span>
                <span class="preview-size">1.2 MB</span>
              </div>
            </div>
            <div class="no-images" id="noImagesMessage">
              <p>No images selected yet.</p>
              <p class="hint">Upload at least one image for your product.</p>
            </div>
          </div>

          <!-- Existing Images (for edit mode) -->
          <div class="existing-images" id="existingImages" style="display: none;">
            <h4>Existing Images</h4>
            <div class="existing-images-grid" id="existingImagesGrid"></div>
          </div>
        </div>

        <div class="form-navigation">
          <button type="button" class="btn prev-step" data-prev="3">‚Üê Back</button>
          <button type="button" class="btn next-step" data-next="5">Next: Inventory ‚Üí</button>
        </div>
      </div>

      <!-- STEP 5: INVENTORY & VARIANTS -->
      <div class="form-step" data-step="5">
        <div class="form-section">
          <h3><span class="step-number">5</span> Inventory & Variants</h3>
          
          <!-- SKU & Barcode -->
          <div class="form-row">
            <div class="form-group">
              <label for="sku">SKU (Stock Keeping Unit)</label>
              <input type="text" id="sku" name="sku" placeholder="e.g., BR-2024-001">
              <div class="form-hint">Auto-generate if left empty</div>
            </div>
            <div class="form-group">
              <label for="barcode">Barcode (Optional)</label>
              <input type="text" id="barcode" name="barcode" placeholder="e.g., 123456789012">
            </div>
          </div>

          <!-- Size & Stock Management -->
          <div class="form-section">
            <h4>Size & Stock Management</h4>
            
            <div class="sizes-controls">
              <div class="preset-sizes">
                <label>Quick Presets:</label>
                <div class="preset-buttons">
                  <button type="button" class="btn small" data-preset="shirt">üëï Shirts</button>
                  <button type="button" class="btn small" data-preset="pants">üëñ Pants</button>
                  <button type="button" class="btn small" data-preset="shoes">üëü Shoes</button>
                  <button type="button" class="btn small" data-preset="clear">Clear All</button>
                </div>
              </div>
              
              <div class="manual-add">
                <label>Add Custom Size:</label>
                <div class="add-size-row">
                  <input type="text" id="newSize" placeholder="Size (e.g., M, 32, 9)">
                  <input type="number" id="newStock" placeholder="Stock" min="0">
                  <button type="button" id="addSizeBtn" class="btn small">Add</button>
                </div>
              </div>
            </div>

            <!-- Sizes Table -->
            <div class="sizes-table-container">
              <table id="sizesTable">
                <thead>
                  <tr>
                    <th>Size</th>
                    <th>Stock</th>
                    <th>Status</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="sizesTableBody">
                  <tr class="empty-row">
                    <td colspan="4" style="text-align: center; padding: 20px; color: #999;">
                      No sizes added yet. Add sizes or use presets.
                    </td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td><strong>Total Stock:</strong></td>
                    <td id="totalStock">0</td>
                    <td colspan="2">
                      <span class="stock-status out-of-stock">Out of Stock</span>
                    </td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>

          <!-- Shipping & Dimensions -->
          <div class="form-section">
            <h4>Shipping & Physical Properties</h4>
            
            <div class="form-row">
              <div class="form-group">
                <label for="weight">Weight (grams)</label>
                <input type="number" id="weight" name="weight" min="0" placeholder="500">
                <div class="form-hint">For shipping calculation</div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Dimensions (cm)</label>
                <div class="dimensions-inputs">
                  <input type="number" id="dimLength" name="dimLength" min="0" placeholder="Length">
                  <input type="number" id="dimWidth" name="dimWidth" min="0" placeholder="Width">
                  <input type="number" id="dimHeight" name="dimHeight" min="0" placeholder="Height">
                </div>
              </div>
            </div>
          </div>

          <!-- Notes -->
          <div class="form-section">
            <h4>Notes</h4>
            <div class="form-group">
              <textarea id="notes" name="notes" rows="3" 
                        placeholder="Internal notes, special instructions, etc."></textarea>
            </div>
          </div>
        </div>

        <div class="form-navigation">
          <button type="button" class="btn prev-step" data-prev="4">‚Üê Back</button>
          <button type="submit" class="btn primary" id="submitProductBtn">
            <span class="btn-text">Save Product</span>
            <span class="btn-loading" style="display: none;">
              <span class="spinner"></span> Saving...
            </span>
          </button>
        </div>
      </div>

      <!-- Form Messages -->
      <div id="formMessage" class="form-message"></div>
    </form>
  </div>
</div>

  <!-- DELETE CONFIRM MODAL -->
  <div id="confirmModal" class="modal">
    <div class="modal-content small">
      <h3>Confirm Delete</h3>
      <p>Are you sure you want to delete this product?</p>

      <div class="modal-buttons">
        <button id="cancelDelete" class="btn secondary">Cancel</button>
        <button id="confirmDelete" class="btn danger">Delete</button>
      </div>
    </div>
  </div>

  <script src="../js/admin/admin.js"></script>
  
  <!-- Skeleton Loader Script -->
  <script>
    // Show skeleton loaders on initial page load
    document.addEventListener('DOMContentLoaded', () => {
      const skeletonStats = document.getElementById('skeletonStats');
      const skeletonControls = document.getElementById('skeletonControls');
      const skeletonTable = document.getElementById('skeletonTable');
      const actualControls = document.getElementById('actualControls');
      const actualTable = document.getElementById('actualTable');
      const statsContainer = document.getElementById('statsContainer');
      
      // Show skeletons
      if (skeletonStats) skeletonStats.style.display = 'grid';
      if (skeletonControls) skeletonControls.style.display = 'block';
      if (skeletonTable) skeletonTable.style.display = 'block';
      
      // Hide actual content initially
      if (actualControls) actualControls.style.display = 'none';
      if (actualTable) actualTable.style.display = 'none';
      if (statsContainer) statsContainer.style.display = 'none';
      
      // Check if user is authenticated
      const token = localStorage.getItem('admin_token');
      if (!token) {
        window.location.href = 'admin-login.html';
        return;
      }
      
      // Show content after a brief delay (simulating loading)
      setTimeout(() => {
        if (skeletonStats) skeletonStats.style.display = 'none';
        if (skeletonControls) skeletonControls.style.display = 'none';
        if (skeletonTable) skeletonTable.style.display = 'none';
        
        if (actualControls) actualControls.style.display = 'block';
        if (actualTable) actualTable.style.display = 'table';
        if (statsContainer) statsContainer.style.display = 'grid';
      }, 800);
    });
    
    // Function to show skeleton during refresh
    function showSkeletonDuringRefresh() {
      const skeletonStats = document.getElementById('skeletonStats');
      const skeletonTable = document.getElementById('skeletonTable');
      const actualTable = document.getElementById('actualTable');
      const statsContainer = document.getElementById('statsContainer');
      const emptyMsg = document.getElementById('emptyMsg');
      
      if (emptyMsg) emptyMsg.style.display = 'none';
      if (actualTable) actualTable.style.display = 'none';
      if (statsContainer) statsContainer.style.display = 'none';
      
      if (skeletonStats) skeletonStats.style.display = 'grid';
      if (skeletonTable) skeletonTable.style.display = 'block';
    }
    
    // Override the refresh function to show skeleton
    const originalRefreshBtn = document.getElementById('refreshBtn');
    if (originalRefreshBtn) {
      originalRefreshBtn.addEventListener('click', () => {
        showSkeletonDuringRefresh();
        
        // Call the original loadProducts function after a brief delay
        setTimeout(() => {
          if (window.loadProducts) {
            window.loadProducts();
          }
        }, 300);
      });
    }
    
    // Override the logout function to show skeleton
    const logoutBtn = document.getElementById('logoutBtn');
    if (logoutBtn) {
      logoutBtn.addEventListener('click', () => {
        if (confirm('Are you sure you want to logout?')) {
          // Show loading skeleton
          document.body.innerHTML = `
            <div style="
              position: fixed;
              top: 0;
              left: 0;
              right: 0;
              bottom: 0;
              background: linear-gradient(135deg, #111 0%, #333 100%);
              display: flex;
              justify-content: center;
              align-items: center;
              flex-direction: column;
              color: white;
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            ">
              <div class="skeleton-spinner" style="margin-bottom: 20px;"></div>
              <p>Logging out...</p>
            </div>
          `;
          
          setTimeout(() => {
            localStorage.removeItem('admin_token');
            localStorage.removeItem('admin_user');
            window.location.href = 'admin-login.html';
          }, 500);
        }
      });
    }
  </script>
</body>
</html>